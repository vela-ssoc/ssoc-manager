"use strict";(self["webpackChunkssoc"]=self["webpackChunkssoc"]||[]).push([[2543],{12037:function(e,t,n){n.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{class:"事件详情"===e.nameShow?"pageClass":"",staticStyle:{height:"20px","padding-top":"10px"}},[t("span",{staticStyle:{display:"inline-block","font-size":"13px","min-width":"35.5px",height:"28px","line-height":"30px","vertical-align":"top","box-sizing":"border-box",float:"right"}},[e._v("共"+e._s(e.pageTotal)+"条")]),t("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"jumper,sizes,prev, pager, next","page-size":e.size||15,"current-page":e.pageCurrent,total:e.pageTotal,"page-sizes":e.pageSizeArray||[15,30,45]},on:{"update:currentPage":function(t){e.pageCurrent=t},"update:current-page":function(t){e.pageCurrent=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],r={name:"page",props:{pageSizeArray:Array,size:Number,pageTotal:Number,current:Number,nameShow:String},data(){return{pageCurrent:this.current}},methods:{handleSizeChange(e){this.$emit("handleSizeChange",e)},handleCurrentChange(e){this.$emit("handleCurrentChange",e)}},watch:{current:function(e){this.pageCurrent=e}}},l=r,s=n(1001),o=(0,s.Z)(l,a,i,!1,null,"277403d7",null),c=o.exports},22543:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",[e._t("prefix"),t("el-input",{staticClass:"input-with-select",staticStyle:{width:"200px","margin-right":"5px"},attrs:{placeholder:"请输入搜索内容",size:"mini"},model:{value:e.selectInput,callback:function(t){e.selectInput=t},expression:"selectInput"}}),t("el-button",{staticStyle:{"background-color":"#f5f7fa",border:"1px solid #dcdfe6"},attrs:{icon:"el-icon-search",size:"mini"},on:{click:e.insicesSelect}})],2),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:e.indicesList.slice((e.current-1)*e.page,e.current*e.page),"header-cell-style":{color:"#909399",textAlign:"center",background:"#f5f7fa"}}},[t("el-table-column",{attrs:{label:"名称",prop:"index",width:"280"}}),t("el-table-column",{attrs:{label:"健康状态",prop:"health"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",{staticClass:"statu",class:"green"===n.row.health?"green-circle":"yellow"===n.row.health?"yellow-circle":"red-circle"}),e._v(" "+e._s(n.row.health)+" ")]}}])}),t("el-table-column",{attrs:{label:"状态",prop:"status",width:"100"}}),t("el-table-column",{attrs:{label:"UUID",prop:"uuid",width:"240"}}),t("el-table-column",{attrs:{label:"分片"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pri+" / "+t.row.rep)+" ")]}}])}),t("el-table-column",{attrs:{label:"Lucene文档"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row["docs.count"])+" ")]}}])}),t("el-table-column",{attrs:{label:"存储空间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row["store.size"])+" ")]}}])}),t("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-popover",{ref:n.row.id,attrs:{placement:"top"}},[t("p",[e._v("确定删除?")]),t("div",{staticStyle:{"text-align":"right",margin:"0"}},[t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.$refs[n.row.id].doClose()}}},[e._v("取消")]),t("el-button",{attrs:{loading:e.delLoading,type:"primary",size:"mini"},on:{click:function(t){return e.subDelete(n.row)}}},[e._v("确定")])],1),t("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("Page",{attrs:{size:e.page,current:e.current,pageTotal:e.indicesList.length},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1)},i=[],r=n(56055),l=n(12037),s={name:"index",components:{Page:l.Z},data(){return{current:1,page:14,pageTotal:0,indicesList:[],loading:!1,delLoading:!1,selectInput:""}},created(){this.getEs()},methods:{getEs(){this.loading=!0,(0,r.CG)().then((e=>{this.loading=!1,this.indicesList=e.filter((e=>!e.index.startsWith("."))).sort(((e,t)=>t.index.localeCompare(e.index)))})).catch((e=>{401===e.status&&(localStorage.removeItem("token"),this.$router.push("/"))}))},subDelete(e){this.delLoading=!0;var t=this;(0,r.ZL)(e.index).then((()=>{this.delLoading=!1,t.$message({message:"删除成功!!!",type:"success"}),this.getEs()})).catch((e=>{401===e.status&&(localStorage.removeItem("token"),this.$router.push("/"))}))},insicesSelect(){""!==this.selectInput?this.indicesList=this.indicesList.filter((e=>!this.selectInput||e.index.toLowerCase().includes(this.selectInput.toLowerCase()))):this.getEs()},handleSizeChange(e){this.page=e},handleCurrentChange(e){this.current=e}}},o=s,c=n(1001),u=(0,c.Z)(o,a,i,!1,null,"7d2636c8",null),d=u.exports}}]);