"use strict";(self["webpackChunkssoc"]=self["webpackChunkssoc"]||[]).push([[1280],{41280:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-1"},[t("SysWarning"),t("SiemConfig")],1)},i=[],n=function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("b",{staticClass:"text-[16px]"},[e._v("SIEM连接配置")]),t("span",{staticClass:"ml-2"},[e.editable?t("el-button",{attrs:{type:"text"},on:{click:e.saveConfig}},[e._v("保存")]):t("el-button",{attrs:{type:"text"},on:{click:function(t){e.editable=!0}}},[e._v("编辑")])],1)]),t("el-form",{attrs:{modal:e.config,disabled:!e.editable}},[t("el-descriptions",{attrs:{column:1,border:"",labelStyle:{width:"120px"}}},[t("el-descriptions-item",{attrs:{label:"名字"}},[t("div",[t("el-input",{attrs:{size:"small"},model:{value:e.config.name,callback:function(t){e.$set(e.config,"name",t)},expression:"config.name"}})],1)]),t("el-descriptions-item",{attrs:{label:"url"}},[t("el-input",{attrs:{size:"small"},model:{value:e.config.url,callback:function(t){e.$set(e.config,"url",t)},expression:"config.url"}})],1),t("el-descriptions-item",{attrs:{label:"token"}},[t("el-input",{attrs:{size:"small"},model:{value:e.config.token,callback:function(t){e.$set(e.config,"token",t)},expression:"config.token"}})],1)],1)],1)],1)],1)},l=[],o=s(98362),c={data(){return{editable:!1,config:{name:"",url:"",token:""}}},created(){this.loadConfig()},methods:{async loadConfig(){try{const{data:e}=await o.A.get("/siem-server");this.config.name=e?.name,this.config.url=e?.url,this.config.token=e?.token}catch(e){this.$message.error(e.message)}},async saveConfig(){try{await o.A.post("/siem-server",this.config),this.$message.success("保存成功"),this.editable=!1}catch(e){this.$message.error(e.message)}}}},r=c,d=s(81656),u=(0,d.A)(r,n,l,!1,null,"c069a4b2",null),f=u.exports,m=function(){var e=this,t=e._self._c;return t("div",[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("b",{staticClass:"text-[16px]"},[e._v("系统告警方式")]),t("span",{staticClass:"ml-2"},[e.editable?t("el-button",{attrs:{type:"text"},on:{click:e.saveConfig}},[e._v("保存")]):t("el-button",{attrs:{type:"text"},on:{click:function(t){e.editable=!0}}},[e._v("编辑")])],1)]),t("el-form",{attrs:{modal:e.config,disabled:!e.editable}},[t("el-descriptions",{attrs:{column:1,border:"",labelStyle:{width:"120px"}}},[t("el-descriptions-item",{attrs:{label:"告警方式"}},[t("el-radio-group",{model:{value:e.config.mode,callback:function(t){e.$set(e.config,"mode",t)},expression:"config.mode"}},[t("el-radio",{attrs:{label:"dong"}},[e._v("咚咚告警")]),t("el-radio",{attrs:{label:"siem"}},[e._v("SIEM告警")])],1)],1),t("el-descriptions-item",{attrs:{label:"告警账号"}},[t("div",[t("el-input",{attrs:{size:"small"},model:{value:e.config.name,callback:function(t){e.$set(e.config,"name",t)},expression:"config.name"}})],1)]),t("el-descriptions-item",{attrs:{label:"服务器地址"}},[t("el-input",{attrs:{size:"small"},model:{value:e.config.url,callback:function(t){e.$set(e.config,"url",t)},expression:"config.url"}})],1),t("el-descriptions-item",{attrs:{label:"账号"}},[t("el-input",{attrs:{size:"small"},model:{value:e.config.account,callback:function(t){e.$set(e.config,"account",t)},expression:"config.account"}})],1),t("el-descriptions-item",{attrs:{label:"token"}},[t("el-input",{attrs:{size:"small"},model:{value:e.config.token,callback:function(t){e.$set(e.config,"token",t)},expression:"config.token"}})],1)],1)],1)],1)],1)},g=[],p={data(){return{editable:!1,config:{mode:"dong",name:"安全应急响应中心",url:"",token:"",account:""}}},created(){this.loadConfig()},methods:{async loadConfig(){try{const{data:e}=await o.A.get("/alert-server");this.config.mode=e?.mode,this.config.name=e?.name,this.config.url=e?.url,this.config.token=e?.token,this.config.account=e?.account}catch(e){this.$message.error(e.message)}},async saveConfig(){try{await o.A.post("/alert-server",this.config),this.$message.success("保存成功"),this.editable=!1}catch(e){this.$message.error(e.message)}}}},b=p,h=(0,d.A)(b,m,g,!1,null,"1a2f4762",null),v=h.exports,k={components:{SysWarning:v,SiemConfig:f},data(){return{}},methods:{},mounted(){}},x=k,y=(0,d.A)(x,a,i,!1,null,"43173e87",null),C=y.exports}}]);