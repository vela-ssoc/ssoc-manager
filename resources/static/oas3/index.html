<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>接口文档</title>
    <!-- https://cdn.tailwindcss.com/ -->
    <script src="js/tailwindcss-v3.4.17.js"></script>
</head>
<body class="bg-black text-white py-6">
<div class="max-w-7xl mx-auto px-4">
    <h1 class="text-3xl font-bold mb-2 text-center">接口文档</h1>
    <div class="text-center text-gray-400 text-lg mb-10">
        <ul>
            <li>
                接口文档遵循 <a href="https://swagger.io/specification/" target="_blank">OpenAPI OAS3</a> 标准。
            </li>
            <li>
                建议选择 <strong>Stoplight UI</strong> 查看，以获得较好的体验。
            </li>
        </ul>
    </div>

    <div id="projectGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <!-- 卡片将由 JS 插入 -->
    </div>

    <br/>
    <br/>
    <div class="text-left text-gray-400 text-sm mb-10">
        <ul>
            <li>
                <a href="https://ossindex.sonatype.org/rest" target="_blank">Sonatype</a>
            </li>
            <li>
                <a href="https://google.github.io/osv.dev/api/" target="_blank">OSV</a>
            </li>
        </ul>
    </div>
</div>

<script>
    const projects = [
        {name: 'SSOC 管理中心端', oas3: 'oas3/manager.oas3.yaml', image: 'img/ssoc-manager.png'},
        {name: 'Broker-Agent 接口交互', oas3: 'oas3/broker-agent.json', image: 'img/broker-agent.png'},
        {name: 'Sonatype OSS Index', oas3: 'oas3/sonatype_oss_index.json', image: 'img/sonatype.png'},
        {name: 'OSV', oas3: 'oas3/osv_service_v1.json', image: 'img/osv.webp'},
    ]
    const pages = [
        {name: 'Stoplight UI', link: 'stoplight.html'},
        {name: 'Swagger UI', link: 'swagger.html'},
        {name: 'Scalar UI', link: 'scalar.html'},
        {name: 'Redocly UI', link: 'redocly.html'},
    ]

    const grid = document.getElementById('projectGrid');
    projects.forEach(proj => {
        const card = document.createElement('div');
        card.className = 'relative bg-neutral-900 rounded-md shadow-md overflow-hidden hover:scale-[1.02] transition-transform';

        card.innerHTML = `
        <div class="relative w-full h-60">
          <img src="${proj.image}" alt="${proj.name}" class="w-full h-full object-cover">
          <div class="absolute bottom-0 left-0 right-0 bg-black/30 text-white text-sm px-3 py-2">${proj.name}</div>
        </div>

        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm opacity-0 hover:opacity-100 transition-opacity flex flex-col items-center justify-center space-y-3">
          ${pages.map(pg => {
            const queries = new URLSearchParams({oas3: proj.oas3});
            return `<a href="${pg.link}?${queries.toString()}" target="_blank" class="bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-md border border-white/20">${pg.name}</a>`
        }).join('')}
        </div>`

        grid.appendChild(card);
    });
</script>
</body>
</html>
